{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/duck/WebstormProjects/show-shopping/apps/web/src/app/hooks/useScrollEffects.ts"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\n\n/**\n * @param func 要被節流的函數\n * @param limit 時間限制 (毫秒)\n */\nfunction throttle<F extends (...args: Parameters<F>) => void>(\n    func: F,\n    limit: number\n): (...args: Parameters<F>) => void {\n    let inThrottle: boolean;\n\n    return function (...args: Parameters<F>) {\n        if (!inThrottle) {\n            func(...args);\n            inThrottle = true;\n            setTimeout(() => {\n                inThrottle = false;\n            }, limit);\n        }\n    };\n}\n\ninterface ScrollEffects {\n    isScrollingUp: boolean;\n    isAtTop: boolean;\n}\n\nexport function useScrollEffects(threshold = 80): ScrollEffects {\n    const [isScrollingUp, setIsScrollingUp] = useState(true);\n    const [isAtTop, setIsAtTop] = useState(true);\n    const lastScrollY = useRef(0);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            const currentScrollY = window.scrollY;\n            setIsAtTop(currentScrollY < threshold / 2);\n\n            if (currentScrollY <= threshold) {\n                setIsScrollingUp(true);\n            } else if (currentScrollY < lastScrollY.current) {\n                setIsScrollingUp(true);\n            } else {\n                setIsScrollingUp(false);\n            }\n            lastScrollY.current = currentScrollY;\n        };\n\n        const throttledHandleScroll = throttle(handleScroll, 100);\n        window.addEventListener('scroll', throttledHandleScroll);\n\n        return () => {\n            window.removeEventListener('scroll', throttledHandleScroll);\n        };\n    }, [threshold]);\n\n    return { isScrollingUp, isAtTop };\n}"],"names":[],"mappings":";;;AAAA;;AAEA;;;CAGC,GACD,SAAS,SACL,IAAO,EACP,KAAa;IAEb,IAAI;IAEJ,OAAO,SAAU,GAAG,IAAmB;QACnC,IAAI,CAAC,YAAY;YACb,QAAQ;YACR,aAAa;YACb,WAAW;gBACP,aAAa;YACjB,GAAG;QACP;IACJ;AACJ;AAOO,SAAS,iBAAiB,YAAY,EAAE;IAC3C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,oUAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,cAAc,CAAA,GAAA,oUAAA,CAAA,SAAM,AAAD,EAAE;IAE3B,CAAA,GAAA,oUAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,eAAe;YACjB,MAAM,iBAAiB,OAAO,OAAO;YACrC,WAAW,iBAAiB,YAAY;YAExC,IAAI,kBAAkB,WAAW;gBAC7B,iBAAiB;YACrB,OAAO,IAAI,iBAAiB,YAAY,OAAO,EAAE;gBAC7C,iBAAiB;YACrB,OAAO;gBACH,iBAAiB;YACrB;YACA,YAAY,OAAO,GAAG;QAC1B;QAEA,MAAM,wBAAwB,SAAS,cAAc;QACrD,OAAO,gBAAgB,CAAC,UAAU;QAElC,OAAO;YACH,OAAO,mBAAmB,CAAC,UAAU;QACzC;IACJ,GAAG;QAAC;KAAU;IAEd,OAAO;QAAE;QAAe;IAAQ;AACpC","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file:///Users/duck/WebstormProjects/show-shopping/apps/web/src/app/components/layout/SiteHeader.tsx"],"sourcesContent":["'use client'\n\nimport Link from \"next/link\";\nimport Image from \"next/image\";\nimport clsx from 'clsx';\nimport {useScrollEffects} from '@/app/hooks/useScrollEffects';\nimport React from \"react\";\n\nexport function SiteHeader() {\n    const logoSrc = \"/snowShopping.png\";\n    const {isScrollingUp, isAtTop} = useScrollEffects();\n\n    return (\n        <header\n            className={clsx(\n                'fixed top-0 z-50 w-full transition-all duration-300 ease-in-out',\n\n                // 條件一：控制「背景 & 文字顏色」\n                {\n                    // 狀態1：在頂部時 (跟之前一樣)\n                    'bg-transparent text-white': isAtTop,\n\n                    // 狀態2：離開頂部，且正在「往上滑」\n                    'bg-black/50 text-white backdrop-blur-sm': !isAtTop && isScrollingUp,\n\n                    // 狀態3：離開頂部，且正在「往下滑」\n                    'bg-background/95 text-primary-foreground backdrop-blur-sm': !isAtTop && !isScrollingUp,\n                },\n\n                // 條件二：控制「顯示 & 隱藏」(只有在離開頂部後才作用)\n                {\n                    'translate-y-0': isScrollingUp || isAtTop,  // 往上滑 或 在頂部時，顯示\n                    '-translate-y-full': !isScrollingUp && !isAtTop, // 往下滑 且 離開頂部時，才隱藏\n                }\n            )}\n        >\n            <nav className=\"container mx-auto px-4 lg:px-6\">\n                <div className=\"flex justify-between items-center\">\n                    <Link href=\"/\" className=\"flex items-center space-x-2\">\n                        <Image src={logoSrc} alt=\"雪拼Logo\" width={80} height={40} className=\"h-24 w-auto\"/>\n                    </Link>\n\n                    <div className=\"hidden lg:flex items-center space-x-6\">\n                        <Link href=\"/browse\"\n                              className=\"text-white hover:text-blue-600 transition-colors\">二手裝備</Link>\n                        <Link href=\"/about\" className=\"text-white hover:text-blue-600 transition-colors\">雪票交易</Link>\n                    </div>\n\n                    <div className=\"flex items-center space-x-2\">\n                        <Link href=\"/login\"\n                              className=\"hidden sm:inline-block px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-full transition-colors\">登入</Link>\n                        <Link href=\"/register\"\n                              className=\"px-4 py-2 text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 rounded-full transition-colors\">註冊</Link>\n                        <button\n                            className=\"hidden md:flex items-center ml-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-full transition-colors shadow-md\">\n                            <PlusIcon className=\"mr-2 h-4 w-4\"/>\n                            免費刊登\n                        </button>\n                        <button className=\"lg:hidden p-2 rounded-md hover:bg-gray-100\">\n                            <MenuIcon className=\"h-6 w-6\"/>\n                        </button>\n                    </div>\n                </div>\n            </nav>\n        </header>\n    );\n}\n\nfunction PlusIcon(props: React.SVGProps<SVGSVGElement>) {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}>\n            <path d=\"M5 12h14\"/>\n            <path d=\"M12 5v14\"/>\n        </svg>\n    )\n}\n\nfunction MenuIcon(props: React.SVGProps<SVGSVGElement>) {\n    return (\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\n             stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" {...props}>\n            <line x1=\"4\" x2=\"20\" y1=\"12\" y2=\"12\"/>\n            <line x1=\"4\" x2=\"20\" y1=\"6\" y2=\"6\"/>\n            <line x1=\"4\" x2=\"20\" y1=\"18\" y2=\"18\"/>\n        </svg>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQO,SAAS;IACZ,MAAM,UAAU;IAChB,MAAM,EAAC,aAAa,EAAE,OAAO,EAAC,GAAG,CAAA,GAAA,sJAAA,CAAA,mBAAgB,AAAD;IAEhD,qBACI,6WAAC;QACG,WAAW,CAAA,GAAA,sLAAA,CAAA,UAAI,AAAD,EACV,mEAEA,oBAAoB;QACpB;YACI,mBAAmB;YACnB,6BAA6B;YAE7B,oBAAoB;YACpB,2CAA2C,CAAC,WAAW;YAEvD,oBAAoB;YACpB,6DAA6D,CAAC,WAAW,CAAC;QAC9E,GAEA,+BAA+B;QAC/B;YACI,iBAAiB,iBAAiB;YAClC,qBAAqB,CAAC,iBAAiB,CAAC;QAC5C;kBAGJ,cAAA,6WAAC;YAAI,WAAU;sBACX,cAAA,6WAAC;gBAAI,WAAU;;kCACX,6WAAC,2RAAA,CAAA,UAAI;wBAAC,MAAK;wBAAI,WAAU;kCACrB,cAAA,6WAAC,4PAAA,CAAA,UAAK;4BAAC,KAAK;4BAAS,KAAI;4BAAS,OAAO;4BAAI,QAAQ;4BAAI,WAAU;;;;;;;;;;;kCAGvE,6WAAC;wBAAI,WAAU;;0CACX,6WAAC,2RAAA,CAAA,UAAI;gCAAC,MAAK;gCACL,WAAU;0CAAmD;;;;;;0CACnE,6WAAC,2RAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAmD;;;;;;;;;;;;kCAGrF,6WAAC;wBAAI,WAAU;;0CACX,6WAAC,2RAAA,CAAA,UAAI;gCAAC,MAAK;gCACL,WAAU;0CAAsH;;;;;;0CACtI,6WAAC,2RAAA,CAAA,UAAI;gCAAC,MAAK;gCACL,WAAU;0CAAwG;;;;;;0CACxH,6WAAC;gCACG,WAAU;;kDACV,6WAAC;wCAAS,WAAU;;;;;;oCAAgB;;;;;;;0CAGxC,6WAAC;gCAAO,WAAU;0CACd,cAAA,6WAAC;oCAAS,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhD;AAEA,SAAS,SAAS,KAAoC;IAClD,qBACI,6WAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QACnF,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAS,GAAG,KAAK;;0BAC7F,6WAAC;gBAAK,GAAE;;;;;;0BACR,6WAAC;gBAAK,GAAE;;;;;;;;;;;;AAGpB;AAEA,SAAS,SAAS,KAAoC;IAClD,qBACI,6WAAC;QAAI,OAAM;QAA6B,OAAM;QAAK,QAAO;QAAK,SAAQ;QAAY,MAAK;QACnF,QAAO;QAAe,aAAY;QAAI,eAAc;QAAQ,gBAAe;QAAS,GAAG,KAAK;;0BAC7F,6WAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;0BAChC,6WAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAI,IAAG;;;;;;0BAC/B,6WAAC;gBAAK,IAAG;gBAAI,IAAG;gBAAK,IAAG;gBAAK,IAAG;;;;;;;;;;;;AAG5C","debugId":null}}]
}